<!doctype html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>Wikimedia Car Image</title>
  </head>
  <body>
    <h2>Mazda 3 2007</h2>
    <img id="img" width="800" />

    <script>
      async function load() {
        const q = "Hyundai i20 2019";

        const url =
          "https://commons.wikimedia.org/w/api.php" +
          "?action=query" +
          "&generator=search" +
          "&gsrsearch=" +
          encodeURIComponent(q) +
          "&gsrnamespace=6" +
          "&prop=imageinfo" +
          "&iiprop=url" +
          "&format=json" +
          "&origin=*";

        const r = await fetch(url);
        const d = await r.json();

        const pages = d.query?.pages;
        if (!pages) return;

        const first = Object.values(pages)[0];
        document.getElementById("img").src = first.imageinfo[0].url;
      }

      load();
    </script>
  </body>
</html>
